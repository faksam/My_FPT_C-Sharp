<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252" />
<title>FPT University - C# & .NET technology</title>
<link rel="stylesheet" href="cf112.css" type="text/css" charset="utf-8" />
</head>
<body>
    <div align="center">
      <center>
    <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 0; bordercolor: #111111" width="1024" id="AutoNumber6">
      <tr>
        <td width="1024" style="border-style: none; border-width: medium; height:168px" height="2" bgcolor="#339966" bordercolor="#333333" background="images/background.jpg"><br /><br />
        <p style="margin-left: 4; margin-top: 0; margin-bottom: 0; text-align:center" ><br/>
        <b><font size="5" color="#FFFFFF" face="Arial Black">Software Development</font></b></p>
        <p style="margin-left: 4; margin-top: 0; margin-bottom: 0"><i>
        <font face="Arial Black" color="#FFCC00">&nbsp;</font></i><br/>
        <br/></p>&nbsp;</td>
      </tr>
      <tr>
        <td width="1024" style="border-style: none; border-width: medium; bordercolor:#333333" bgcolor="#FFFFFF" valign="top">
        <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-left-width: 0; border-right-width: 0; border-bottom-width:0" bordercolor="#006666" width="100%" id="AutoNumber7" height="8">
          <tr>
            <td width="12%" style="border-left: 1px solid #006666; border-right-style: solid; border-right-width: 1; border-top-style: solid; border-top-width: 1; border-bottom-style:none; border-bottom-width:medium" align="center" bgcolor="#006666" bordercolor="#339966" height="15">
            <a class="mainmenu" href="index.html">Home</a></td>
            <td width="18%" style="border-left-style: solid; border-left-width: 1; border-right-style: solid; border-right-width: 1; border-top-style: solid; border-top-width: 1; border-bottom-style:none; border-bottom-width:medium" align="center" bgcolor="#006666" bordercolor="#339966" height="15">
            <a class="mainmenu" href="outline.html">Outline</a></td>
            <td width="26%" style="border-left-style: solid; border-left-width: 1; border-right-style: solid; border-right-width: 1; border-top-style: solid; border-top-width: 1; border-bottom-style:none; border-bottom-width:medium" align="center" bgcolor="#006666" bordercolor="#339966" height="15">
            <a class="mainmenu" href="timeline.html">Timeline</a></td>
            <td width="24%" style="border-left-style: solid; border-left-width: 1; border-right-style: solid; border-right-width: 1; border-top-style: solid; border-top-width: 1; border-bottom-style:none; border-bottom-width:medium" align="center" bgcolor="#006666" bordercolor="#339966" height="15">
            <a class="mainmenu" href="readings.html">Readings</a></td>
            <td width="20%" style="border-left-style: solid; border-left-width: 1; border-right: 1px solid #006666; border-top-style: solid; border-top-width: 1; border-bottom-style:none; border-bottom-width:medium" align="center" bgcolor="#006666" bordercolor="#339966" height="15">
            <a class="mainmenu" href="instructors.html">Instructors</a></td>
          </tr>
          <tr>
            <td width="100%" style="border-left-style: none; border-left-width: medium; border-right-style: none; border-right-width: medium; border-top-style: solid; border-top-width: 1; border-bottom-style: none; border-bottom-width: medium" align="center" colspan="5">
            <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 0" bordercolor="#111111" width="100%" id="AutoNumber8">
              <tr>
                <td width="100%" style="border-style: none; border-width: medium">
                <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-left-width: 2; border-right-width: 2; border-top-width: 2; border-bottom-width: 0" bordercolor="#006666" id="AutoNumber9" height="1">
                  <tr>
                    <td width="100%" style="border-style: none; border-width: medium" height="1" colspan="2" bgcolor="#004646">
                    <p style="margin-top: -6; margin-bottom: -6"/></td>
                  </tr>
                  <tr>
                    <td style="border-left-style: none; border-left-width: medium; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom: 2px none #006666" height="1" bgcolor="#006666" valign="top">
                    <div align="center" style="width: 169">
                      <center>
                      <p style="margin-top: -4; margin-bottom: -4">&nbsp;</p>
                      <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" width="91%" id="AutoNumber10" bgcolor="#FFFFFF" height="1" bordercolor="#003399">
                        <tr>
            <td width="100%" bgcolor="#CAD6EE" style="border-left-color: #003399; border-left-width: 2; border-right-color: #003399; border-right-width: 2; border-top-color:#003399; border-bottom-color:#003399" height="20">
            <p style="margin: 2 3"><b>
            <font face="Verdana" size="2" color="#003399">Readings</font></b></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-bottom-style: none; border-bottom-width: medium; border-top-style:solid; border-top-width:1" height="25">
            <p style="margin: 2 3; "><a class="leftmenu" href="Chapter01.html">Chapter 1</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium; " height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter02.html">Chapter 2</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium; " height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter03.html">Chapter 3</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium; " height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter04.html">Chapter 4</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium; " height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter05.html">Chapter 5</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium; " height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter06.html">Chapter 6</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter07.html">Chapter 7</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter08.html">Chapter 8</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter10.html">Chapter 10</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter11.html">Chapter 11</a></p></td>
                        </tr>                        
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter13.html">Chapter 13</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter14.html">Chapter 14</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter16.html">Chapter 16</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter17.html">Chapter 17</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter19.html">Chapter 19</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter20.html">Chapter 20</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter21.html">Chapter 21</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter22.html">Chapter 22</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter23.html">Chapter 23</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter24.html">Chapter 24</a></p></td>
                        </tr>
                        <tr>
            <td width="100%" bgcolor="#FFFFFF" style="border-left:1px solid #FF0000; border-right:1px solid #FF0000; border-top-style: none; border-top-width: medium; border-bottom-style:solid; border-bottom-width:1" height="25">
            <p style="margin: 2 3"><a class="leftmenu" href="Chapter25.html">Chapter 25</a></p></td>
                        </tr>
                      </table>
                      </center>
                    </div>
                    </td>                    
                    <td width="855" style="border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium" height="1" valign="top">
                    <div style="margin-left:10px;margin-top:10px;margin-bottom:10px;margin-right:10px">
                    <h1>Chapter 5 - Understanding Object Lifetime</h1>
                    <span id="top" class="style1">Content</span>
                    <ul>
                    <li><a href="#bas" class="leftmenu">The basics of Object Lifetime</a></li>                    
                    <li><a href="#app" class="leftmenu">The role of Application roots</a></li>
                    <li><a href="#gen" class="leftmenu">Understanding Object Generations</a></li>
                    <li><a href="#gc" class="leftmenu">The System.GC type</a></li>
                    <li><a href="#fin" class="leftmenu">Building Finalize objects</a></li>
                    <li><a href="#dis" class="leftmenu">Building Disposable objects</a></li>
                    <li><a href="#typ" class="leftmenu">Building Finalize and Disposable types</a></li>
                    <li><a href="#sum" class="leftmenu">Summary</a></li>
                    </ul>
                    <p class="normal">
                    The point of this chapter is to understand how the CLR is managing allocated objects via <i>garbage collection</i>. 
                    C# programmers never directly deallocate a managed object from memory. Rather, .NET objects are allocated onto a region of memory termed the <i>managed heap</i>, 
                    where they will be automatically destroyed by the garbage collector at "some time in the future".<br />
                    Once you have examined the core details of the collection process, you will learn how to programmatically interact with the garbage collector using 
                    the System.GC class type. Next you examine how the virtual System.Object.Finalize() method and IDisposable interface can be used to build types that 
                    release internal <i>unmanaged resources</i> in a timely manner.
                    </p>
                    <span id="bas" class="style1">The basics of Object Lifetime</span>
                    <p class="normal">
                    The golden rule of .NET memory management is simple:
                    </p>
                    <ul>
                    <li><b>Rule</b>: Allocate an object onto the managed heap using the new keyword and forget about it.</li>
                    </ul>
                    <p class="normal">
                    Once "new-ed", the garbage collector will destroy the object when it is no longer needed. But how does the garbage collector determine 
                    when an object is no longer needed? The short answer is that the garbage collector removes an object from the heap when it is <i>unreachable</i> by any part of your code base. 
                    However, you cannot guarantee that this object will be reclaimed from memory immediately it has been unreachable. All you can assume at this point is that the CLR performs 
                    the next garbage collection, this object could be safely destroyed.<br />
                    Programming in a garbage collected environment will greatly simplify your application development. By allowing the garbage collector to be in charge of destroying objects, 
                    the burden of memory management has been taken from your shoulders and placed onto those of the CLR.
                    </p>
                    <span class="style2">The CIL of new</span>
                    <p class="normal">
                    When the C# compiler encounters the new keyword, it will emit a CIL newobj instruction into the method implementation. 
                    Understand that the managed heap is more than just a random chunk of memory accessed by the CLR. The .NET garbage collector 
                    is quite a tidy housekeeper of the heap, given that it will compact empty blocks of memory (when necessary) for purposes of optimization.<br />
                    To aid in this endeavor, the managed heap maintains a pointer (commonly refered to as the <i>next object pointer</i> or <i>new object pointer</i>) that 
                    identifies exactly the next object will be located. The below figure illustrates details of allocating objects onto the managed heap.
                    </p>                    
                    <div style="text-align:center;"><img alt="" src="images/0501.jpg" /></div>
                    <p class="normal">
                    As you are busy allocating objects in your application, the space on the managed heap may eventually become full. 
                    When processing the newobj instruction, if the CLR determines that the managed heap does not have sufficient memory to allocate the requested type, 
                    it will perform a garbage collection in an attempt to free up memory. Thus, the next rule of garbage collection is also quite simple.
                    </p>
                    <ul>
                    <li><b>Rule</b>: If the managed heap does not have sufficient memory to allocate a requested object, a garbage collection will occur.</li>
                    </ul>
                    <div style="width:100%;text-align:right;"><a class="leftmenu" href="#top">Back to top</a></div>
                    <span id="app" class="style1">The role of Application roots</span>
                    <p class="normal">
                    To understand how the garbage collector determines when an object is "no longer needed", you need to be aware of the notion of <i>application root</i>. 
                    A <i>root</i> is a storage location containing a reference to an object on the heap. Strictly speaking, 
                    a root can fall into any of the following categories:
                    </p>
                    <ul>
                    <li>References to global objects (while not allowed in C#, CIL code does permit allocation of global objects)</li>
                    <li>References to currently used static objects/static fields</li>
                    <li>References to local objects within a given method</li>
                    <li>References to object parameters passed into a method</li>
                    <li>References to objects waiting to be <i>finalized</i></li>
                    <li>Any CPU register that references a local object</li>
                    </ul>
                    <p class="normal">
                    During a garbage collection process, the runtime will investigate objects on the managed heap to determine if they are still reachable (aka <i>rooted</i>) by the application. 
                    To do so, the CLR will build an <i>object graph</i>, which represents each reachable object on the heap. As well, be aware that the garbage collector will never graph the same object twice.<br />
                    Assume that the managed heap contains a set of objects named A, B, C, D, E, F and G. During garbage collection, these objects are examined for active roots. 
                    Once the graph has been constructed, unreachable objects (which we will assume are objects C and F) are marked as garbage. The below diagrams a possible object graph for the scenario just described.
                    </p>
                    <div style="text-align:center;"><img alt="" src="images/0502.jpg" /></div>
                    <p class="normal">
                    Once object has been marked for termination, they are swept from memory. At this point, the remaining space on the heap is compacted, which in turn will cause the CLR to modify the set of active application roots 
                    to refer to the correct memory location (this is done automatically and transparently). Last but not least, the next object pointer is readjusted to point to the next available slot.
                    </p>
                    <div style="text-align:center;"><img alt="" src="images/0503.jpg" /></div><br />
                    <div style="width:100%;text-align:right;"><a class="leftmenu" href="#top">Back to top</a></div>
                    <span id="gen" class="style1">Understanding Object Generations</span>
                    <p class="normal">
                    Read at page 184 of textbook.
                    </p>
                    <div style="width:100%;text-align:right;"><a class="leftmenu" href="#top">Back to top</a></div>
                    <span id="gc" class="style1">The System.GC type</span>
                    <p class="normal">
                    The base class libraries provide a class type named System.GC that allows you to programmatically interact with the garbage collector using a set of static members. 
                    However, the only time you will make use of the members of System.GC is when you are creating types that make use of <i>unmanaged resources</i>.<br />
                    Read some of more intersting members at page 185 of textbook.                    
                    </p>
                    <span class="style2">Forcing a Garbage Collection</span>
                    <p class="normal">
                    Again, the whole purpose of the .NET garbage collector is to manage memory on our behalf. However, under some very rare circumstances, it may be benificial to programmatically 
                    force a garbage collection using GC.Collect(). Specifically:
                    </p>
                    <ul>
                    <li>Your application is about to enter into a block of code that you do not wish to be interrupted by a possible garbage collection.</li>
                    <li>Your application has just finished allocating an extremely large number of objects and you wish to remove as much of the acquired memory as possible.</li>
                    </ul>
                    <p class="normal">
                    When you manually force a garbage collection, you should always make a call to GC.WaitForPendingFinalizers(). With this approach, you can rest assured that 
                    all <i>finalizable objects</i> have had a chance to perform any necessary cleanup before your program continues forward. Under the hood, this method will suspend 
                    the calling "thread" during the collection process. It ensures that your code does not invoke methods on an object currently being destroyed!
                    </p>
                    <div style="width:100%;text-align:right;"><a class="leftmenu" href="#top">Back to top</a></div>
                    <span id="fin" class="style1">Building Finalizable objects</span>
                    <p class="normal">
                    When you override Finalize() method of System.Object, you establish a specific location to perform any necessary cleanup logic for your type. 
                    Given that this member is defined as protected, it is not possible to directly call an object's Finalize() method. Rather, the <i>garbage collector</i> will call 
                    an object's Finalize() method before removing the object from memory.<br />
                    The only time you would need to design a class that can clean up after itself is when you are making use of <i>unmanaged resources</i> 
                    (such a raw OS file handles, raw unmanaged database connections, or other unmanaged resources). Unmanaged resources are obtained by directly calling into the API of 
                    the operating system using PInvoke (platform invocation) services or due to some very elaborate COM interoperability scenarios. 
                    Given this, consider the next rule of garbage collection:
                    </p>
                    <ul>
                    <li><b>Rule</b>: The only reason to override Finalize() is if your C# class is making use of unmanaged resources via PInvoke or complex COM interoperability tasks.</li>
                    </ul>
                    <span class="style2">Detailing the finalization process</span>
                    <p class="normal">
                    When you allocate an object onto the managed heap, the runtime automatically determines whether your object supports a custom Finalize() method. 
                    If so, the object is marked as <i>finalizable</i>, and a pointer to this object is stored on an internal queue named the <i>finalization queue</i>. 
                    The finalization queue is a table maintained by the garbage collector that points to each and every object that must be finalized before it is removed from the heap.<br />
                    When the garbage collector determines it is time to free an object from memory, it examines each entry on the finalization queue, and copies the object off 
                    the heap to yet another managed structure termed the <i>finalization reachable</i> table. At this point, a seperate thread is spawned to invoke the Finalize() method for each object 
                    on the freachable (abbreviation of finalization reachable) table <i>at the next garbage collection</i>. Given this, it will take at very last <i>two</i> garbage collections 
                    to truly finalize an object.
                    </p>
                    <div style="width:100%;text-align:right;"><a class="leftmenu" href="#top">Back to top</a></div>
                    <span id="dis" class="style1">Building Disposable objects</span>
                    <p class="normal">
                    As an alternative to overriding Finalize(), your class could implement the IDisposable interface, which defines a single method named Dispose().<br />
                    When you do support the IDisposable interface, the assumption is that when the <i>object user</i> is finished using the object, it manually calls Dispose() 
                    before allowing the object reference to drop out of scope. In this way, your objects can perform any necessary cleanup unmanaged resources without incurring 
                    the hit of being placed on the finalization queue and without waiting for the garbage collector to trigger the class's finalization logic.<br />
                    Note that a Dispose() method is not only responsible for releasing the type's unmanaged resources, but should also call Dispose() on any other contained dissposable methods. 
                    Unlike Finalize(), it is perfectly safe to communicate with other managed objects within a Dispose() method. 
                    The reason is simple: The garbage collector has no clue about the IDisposable interface and will never call Dispose(). Therefore, when the object user calls this method, 
                    the object is still living a productive life on the managed heap and has access to all other heap-allocated objects.<br />                    
                    </p>
                    <ul>
                    <li><b>Rule</b>: Always call Dispose() on any object you directly create if the object supports IDisposable. 
                    The assumption you should make is that if the class designer chose to support the Dispose() method, the type has some cleanup to perform.</li>
                    </ul>
                    <div style="width:100%;text-align:right;"><a class="leftmenu" href="#top">Back to top</a></div>
                    <span id="typ" class="style1">Building Finalizable and Disposable types</span>
                    <p class="normal">
                    It is possible to blend both techniques: overriding System.Object.Finalize() method and implementing IDisposable interface into a single class definition. 
                    If the object user <i>does</i> remember to call Dispose(), you can inform the garbage collector to by pass the finalization process by calling GC.SuppressFinalize(). 
                    If the object user <i>forgets</i> to call Dispose(), the object will eventually be finalized. The good news is that the object's internal unmanaged resources 
                    will be freed one way or another.
                    </p>
                    <div style="width:100%;text-align:right;"><a class="leftmenu" href="#top">Back to top</a></div>
                    <span id="sum" class="style1">Summary</span>
                    <p class="normal">
                    The point of this chapter was to demystify the garbage collection process. The garbage collector will only run when it is unable to acquire the necessary memory from the managed heap. 
                    When a collection does occur, you can rest assured that Microsoft's collection algorithm as been optimized by the use of object generations, 
                    secondary threads for the purpose of object finalization, and a managed heap dedicated to host large objects.<br />
                    This chapter also illstrated how to programmatically interact with the garbage collector using the System.GC class type. As mentioned, the only time when you will really need to do so is 
                    when you are building finalizable or disposable class types. Using this technique, you expose a public method to the object user that can be called to perform internal cleanup ASAP.                    
                    </p>
                    </div>
                    </td>
                  </tr>
                </table>
                </td>
              </tr>
            </table>
            </td>
          </tr>
          <tr>
            <td width="100%" style="border-bottom:1px solid #006666; border-left:1px solid #006666; border-right:1px solid #006666; border-top-style: none; border-top-width: medium; " align="center" colspan="5" bgcolor="#006666" height="1">
            <p style="margin-top: 3; margin-bottom: 3"><b>
            <font face="Verdana" size="1" color="#FFFFFF">Copyright 2010
             All Rights Reserved.
             </font></b></p></td>
          </tr>
        </table>
        </td>
      </tr>
    </table>    
      </center>
    </div>    
</body>
</html>